"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[139],{4139:(B,Z,c)=>{c.r(Z),c.d(Z,{PagesModule:()=>L});var m=c(9808),p=c(505),n=c(2382),x=c(5226),u=c.n(x),e=c(1223),C=c(8509),d=c(2340),v=c(520);let T=(()=>{class o{constructor(t){this.httpClient=t}crearPanel(t){return this.httpClient.post(d.N.url+"/api/paneles",t)}obtenerPaneles(){return this.httpClient.get(d.N.url+"/api/paneles")}buscarPanelPorTermino(t){return this.httpClient.get(d.N.url+"/api/paneles/buscar/"+t)}eliminarPanel(t){return this.httpClient.delete(d.N.url+"/api/paneles/"+t)}editarPanel(t,r){return this.httpClient.put(d.N.url+"/api/paneles/"+r,t)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(v.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),q=(()=>{class o{constructor(t){this.httpClient=t}crearManager(t){return this.httpClient.post(d.N.url+"/api/auth/registro",t)}obtenerManagers(){return this.httpClient.get(d.N.url+"/api/auth/usuarios")}buscarManagerPorTermino(t){return this.httpClient.get(d.N.url+"/api/auth/usuarios/"+t)}eliminarManager(t){return this.httpClient.delete(d.N.url+"/api/auth/usuarios/"+t)}editarManager(t,r){return this.httpClient.put(d.N.url+"/api/auth/usuarios/"+r,t)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(v.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var g=c(9358);function A(o,i){if(1&o&&(e.TgZ(0,"option",43),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.nombre),e.xp6(1),e.Oqu(t.nombre)}}function U(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"li")(1,"div",44)(2,"span",45),e._uU(3),e.qZA(),e.TgZ(4,"button",46),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw().eliminarPanelSeleccionado(l)}),e.qZA()()()}if(2&o){const t=i.$implicit;e.xp6(3),e.Oqu(t.nombre)}}function k(o,i){if(1&o&&(e.TgZ(0,"option",47),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.routerEditado.manager.nombre)}}function y(o,i){1&o&&(e.TgZ(0,"option",48),e._uU(1,"Seleccionar"),e.qZA())}function M(o,i){if(1&o&&(e.TgZ(0,"option",49),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("ngValue",t.nombre),e.xp6(1),e.Oqu(t.nombre)}}function F(o,i){if(1&o&&(e.TgZ(0,"div",17)(1,"label",18),e._uU(2,"Link overquota "),e.TgZ(3,"span",19),e._uU(4,"*"),e.qZA()(),e._UZ(5,"input",50),e.qZA()),2&o){const t=e.oxw();e.xp6(5),e.Q6J("value",t.linkOverquota)("readOnly",!0)}}function P(o,i){if(1&o&&(e.TgZ(0,"div",17)(1,"label",18),e._uU(2,"Link Finalizado "),e.TgZ(3,"span",19),e._uU(4,"*"),e.qZA()(),e._UZ(5,"input",50),e.qZA()),2&o){const t=e.oxw();e.xp6(5),e.Q6J("value",t.linkFinalizado)("readOnly",!0)}}function S(o,i){if(1&o&&(e.TgZ(0,"div",17)(1,"label",18),e._uU(2,"Link Completo "),e.TgZ(3,"span",19),e._uU(4,"*"),e.qZA()(),e._UZ(5,"input",50),e.qZA()),2&o){const t=e.oxw();e.xp6(5),e.Q6J("value",t.linkCompleto)("readOnly",!0)}}function N(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"th",51),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"span",52),e._uU(15),e.qZA()(),e.TgZ(16,"td"),e._uU(17),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.qZA(),e.TgZ(20,"td"),e._uU(21),e.qZA(),e.TgZ(22,"td")(23,"button",53),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw().editarRouter(l)}),e._uU(24," Editar "),e.qZA()(),e.TgZ(25,"td")(26,"button",54),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw().eliminarRouter(l.id)}),e._uU(27," Eliminar "),e.qZA()()()}if(2&o){const t=i.$implicit,r=i.index;e.xp6(2),e.Oqu(r+1),e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.nombre_router),e.xp6(2),e.Oqu(t.nombre_cliente),e.xp6(2),e.Oqu(t.manager),e.xp6(2),e.Oqu(t.completados),e.xp6(3),e.Oqu(1==t.mostrar_proveedor?"Activo":"Inactivo"),e.xp6(2),e.Oqu(t.completo_completados),e.xp6(2),e.Oqu(t.overquota_completados),e.xp6(2),e.Oqu(t.finalizar_completados)}}let J=(()=>{class o{constructor(t,r,a,l,s){this.routerService=t,this.panelService=r,this.managerService=a,this.navbarService=l,this.fb=s,this.editar=!1,this.routers=[],this.panelesBD=[],this.managers=[],this.panelesSeleccionados=[],this.routerEditado={},this.selected="Seleccionar",this.linkCompleto="",this.linkOverquota="",this.linkFinalizado="",this.searchText="",this.filteredPaneles=[],this.navbarService.show(),this.routerForm=this.fb.group({nombre_router:["",n.kI.required],nombre_cliente:["",n.kI.required],completados:[0,n.kI.required],mostrar_proveedor:[!1,n.kI.required],manager:["Seleccionar"],paneles:[],id:[""]})}ngOnInit(){this.obtenerRouters(),this.obtenerPaneles(),this.obtenerManagers()}obtenerRouters(){this.routerService.obtenerRouters().subscribe({next:t=>{this.routers=t},error:t=>{}})}actualizarPaneles(t){t.length<=0&&this.obtenerPaneles(),this.panelService.buscarPanelPorTermino(t).subscribe(r=>{this.panelesBD=r})}obtenerPaneles(){this.panelService.obtenerPaneles().subscribe({next:t=>{this.panelesBD=t},error:t=>{}})}obtenerManagers(){this.managerService.obtenerManagers().subscribe({next:t=>{this.managers=t},error:t=>{}})}cambiarEstadoProveedor(t){t.mostrar_proveedor=!t.mostrar_proveedor}generarRouter(){var t;this.routerForm.valid&&(null===(t=this.routerForm.get("paneles"))||void 0===t||t.setValue(this.panelesSeleccionados.map(r=>r.id)),this.editar?this.routerService.editarRouter(this.routerForm.value,this.routerEditado.id).subscribe({next:r=>{u().fire("Listo!","Router editado correctamente","success"),this.obtenerRouters()},error:r=>{console.log(r)}}):this.routerService.crearRouter(this.routerForm.value).subscribe({next:r=>{u().fire("Listo!","Router agregado correctamente","success"),this.obtenerRouters(),this.routerForm.reset()},error:r=>{console.log(r)}}))}agregarPanel(t){let r=this.panelesBD.find(a=>a.nombre==t.target.value);(null!=r||null!=r)&&(this.panelesSeleccionados.find(l=>r.id==l.id)||this.panelesSeleccionados.push(r))}eliminarPanelSeleccionado(t){this.panelesSeleccionados=this.panelesSeleccionados.filter(r=>r.id!=t.id)}editarRouter(t){this.editar=!0,this.routerService.obtenerRouter(t.id).subscribe({next:r=>{var a,l,s,b,h,f;this.routerEditado=r,this.linkOverquota=r.link_overquota,this.linkCompleto=r.link_completo,this.linkFinalizado=r.link_finalizar,null===(a=this.routerForm.get("manager"))||void 0===a||a.setValue(this.routerEditado.manager),null===(l=this.routerForm.get("nombre_router"))||void 0===l||l.setValue(this.routerEditado.nombre_router),null===(s=this.routerForm.get("nombre_cliente"))||void 0===s||s.setValue(this.routerEditado.nombre_cliente),null===(b=this.routerForm.get("completados"))||void 0===b||b.setValue(this.routerEditado.completados),null===(h=this.routerForm.get("mostrar_proveedor"))||void 0===h||h.setValue(this.routerEditado.mostrar_proveedor),this.panelesSeleccionados=this.routerEditado.paneles,null===(f=this.routerForm.get("paneles"))||void 0===f||f.setValue(this.panelesSeleccionados)},error:r=>{}})}limpiarForm(){this.editar=!1,this.panelesSeleccionados=[],this.routerForm.reset(),this.linkCompleto="",this.linkOverquota="",this.linkFinalizado=""}eliminarRouter(t){u().fire({title:"\xbfDeseas eliminar este router?",showDenyButton:!0,confirmButtonText:"Si",denyButtonText:"No"}).then(r=>{r.isConfirmed&&this.routerService.eliminarRouter(t).subscribe({next:a=>{u().fire("Listo!","","success"),this.obtenerRouters()},error:a=>{}})})}buscarRouter(t){0==t.length&&this.obtenerRouters(),this.routerService.buscarPanelPorTermino(t).subscribe({next:r=>{this.routers=r},error:r=>{}})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(C.c),e.Y36(T),e.Y36(q),e.Y36(g.I),e.Y36(n.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-router"]],decls:110,vars:12,consts:[[1,"container-fluid","mt-4"],[1,"d-sm-flex","d-xs-none","col-md-12","mb-4"],[1,"col-md-6","col-sm-10","mb-2"],[1,"input-group"],["type","text","placeholder","buscar por nombre",1,"form-control",3,"keyup"],["inputpanel",""],["type","button",1,"btn","btn-primary"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-success","ms-auto","col-6","col-sm-2","col-xs-2"],["id","exampleModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade","modal-lg"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"row","justify-content-center"],[1,"d-sm-flex","d-xs-none","col-12","mb-4"],["for","password",1,"col-form-label","col-md-3","col-xs-4","fw-bold"],[1,"text-danger"],["formControlName","nombre_router","type","text","placeholder","",1,"form-control"],["placeholder","Buscar panel","aria-label","Search input",1,"form-control",3,"ngModel","keyup","ngModelChange"],["searchInputPanel",""],["aria-label","Default select example",1,"form-select",3,"change"],["selected",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["formControlName","nombre_cliente","type","text","placeholder","",1,"form-control"],["formControlName","manager","aria-label","Default select example",1,"form-select"],["disabled","","hidden","","selected","",4,"ngIf"],["disabled","","hidden","","selected","",3,"ngValue",4,"ngIf"],[3,"ngValue",4,"ngFor","ngForOf"],["formControlName","completados","type","number","min","0","placeholder","",1,"form-control"],[1,"form-check","form-switch"],["formControlName","mostrar_proveedor","type","checkbox","id","flexSwitchCheckDefault",1,"form-check-input"],["for","flexSwitchCheckDefault",1,"form-check-label"],[1,"modal-footer"],["class","d-sm-flex d-xs-none  col-12 mb-4",4,"ngIf"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-primary"],[1,"table-responsive","pb-5"],[1,"table","table-striped","table-hover"],["scope","col"],[3,"value"],[1,"mb-3"],[1,"badge","bg-primary","fs-6"],["type","button","aria-label","Close",1,"btn-close","btn","btn-sm","ml-3",3,"click"],["disabled","","hidden","","selected",""],["disabled","","hidden","","selected","",3,"ngValue"],[3,"ngValue"],["type","text","placeholder","",1,"form-control",3,"value","readOnly"],["scope","row"],[1,"badge","bg-primary"],["data-bs-toggle","modal","data-bs-target","#exampleModal","type","button","aria-expanded","false",1,"btn","btn-success",3,"click"],["type","button","aria-expanded","false",1,"btn","btn-danger",3,"click"]],template:function(t,r){if(1&t){const a=e.EpF();e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Lista de Routers"),e.qZA(),e._UZ(3,"hr"),e.TgZ(4,"div",1)(5,"div",2)(6,"div",3)(7,"input",4,5),e.NdJ("keyup",function(){e.CHM(a);const s=e.MAs(8);return r.buscarRouter(s.value)}),e.qZA(),e.TgZ(9,"button",6),e._uU(10,"Buscar Router"),e.qZA()()(),e.TgZ(11,"button",7),e._uU(12,"Crear Router"),e.qZA()(),e.TgZ(13,"div",8)(14,"div",9)(15,"div",10)(16,"div",11)(17,"h3",12),e._uU(18),e.qZA(),e.TgZ(19,"button",13),e.NdJ("click",function(){return r.limpiarForm()}),e.qZA()(),e.TgZ(20,"div",14)(21,"form",15),e.NdJ("ngSubmit",function(){return r.generarRouter()}),e.TgZ(22,"div",16)(23,"div",17)(24,"label",18),e._uU(25,"Nombre Router "),e.TgZ(26,"span",19),e._uU(27,"*"),e.qZA()(),e._UZ(28,"input",20),e.qZA(),e.TgZ(29,"div",17)(30,"label",18),e._uU(31,"Proveedor Panel"),e.TgZ(32,"span",19),e._uU(33,"*"),e.qZA()(),e.TgZ(34,"input",21,22),e.NdJ("keyup",function(){e.CHM(a);const s=e.MAs(35);return r.actualizarPaneles(s.value)})("ngModelChange",function(s){return r.searchText=s}),e.qZA(),e.TgZ(36,"select",23),e.NdJ("change",function(s){return r.agregarPanel(s)}),e.TgZ(37,"option",24),e._uU(38,"Seleccionar"),e.qZA(),e.YNc(39,A,2,2,"option",25),e.qZA()(),e.TgZ(40,"div")(41,"ul"),e.YNc(42,U,5,1,"li",26),e.qZA()(),e.TgZ(43,"div",17)(44,"label",18),e._uU(45,"Nombre Cliente "),e.TgZ(46,"span",19),e._uU(47,"*"),e.qZA()(),e._UZ(48,"input",27),e.qZA(),e.TgZ(49,"div",17)(50,"label",18),e._uU(51,"Manager"),e.TgZ(52,"span",19),e._uU(53,"*"),e.qZA()(),e.TgZ(54,"select",28),e.YNc(55,k,2,1,"option",29),e.YNc(56,y,2,0,"option",30),e.YNc(57,M,2,2,"option",31),e.qZA()(),e.TgZ(58,"div",17)(59,"label",18),e._uU(60,"Completados "),e.TgZ(61,"span",19),e._uU(62,"*"),e.qZA()(),e._UZ(63,"input",32),e.qZA(),e.TgZ(64,"div",17)(65,"label",18),e._uU(66,"Mostrar Pagina de proveedor "),e.TgZ(67,"span",19),e._uU(68,"*"),e.qZA()(),e.TgZ(69,"div",33),e._UZ(70,"input",34)(71,"label",35),e.qZA()()(),e.TgZ(72,"div",36),e.YNc(73,F,6,2,"div",37),e.YNc(74,P,6,2,"div",37),e.YNc(75,S,6,2,"div",37),e.TgZ(76,"button",38),e.NdJ("click",function(){return r.limpiarForm()}),e._uU(77,"Cancelar"),e.qZA(),e.TgZ(78,"button",39),e._uU(79,"Guardar"),e.qZA()()()()()()(),e.TgZ(80,"div",40)(81,"table",41)(82,"thead")(83,"tr")(84,"th",42),e._uU(85,"#"),e.qZA(),e.TgZ(86,"th",42),e._uU(87,"Project Id"),e.qZA(),e.TgZ(88,"th",42),e._uU(89,"Project Name"),e.qZA(),e.TgZ(90,"th",42),e._uU(91,"Client Email"),e.qZA(),e.TgZ(92,"th",42),e._uU(93,"Project Manager"),e.qZA(),e.TgZ(94,"th",42),e._uU(95,"N (Completes)"),e.qZA(),e.TgZ(96,"th",42),e._uU(97,"Mostrar"),e.qZA(),e.TgZ(98,"th",42),e._uU(99,"Completo"),e.qZA(),e.TgZ(100,"th",42),e._uU(101,"Cuota"),e.qZA(),e.TgZ(102,"th",42),e._uU(103,"Finalizar"),e.qZA(),e.TgZ(104,"th",42),e._uU(105,"Editar"),e.qZA(),e.TgZ(106,"th",42),e._uU(107,"Eliminar"),e.qZA()()(),e.TgZ(108,"tbody"),e.YNc(109,N,28,10,"tr",26),e.qZA()()()()}2&t&&(e.xp6(18),e.Oqu(0==r.editar?"A\xf1adir Router":"Editar Router"),e.xp6(3),e.Q6J("formGroup",r.routerForm),e.xp6(13),e.Q6J("ngModel",r.searchText),e.xp6(5),e.Q6J("ngForOf",r.panelesBD),e.xp6(3),e.Q6J("ngForOf",r.panelesSeleccionados),e.xp6(13),e.Q6J("ngIf",1==r.editar&&r.routerEditado.manager),e.xp6(1),e.Q6J("ngIf",0==r.editar),e.xp6(1),e.Q6J("ngForOf",r.managers),e.xp6(16),e.Q6J("ngIf",r.linkOverquota.length>0),e.xp6(1),e.Q6J("ngIf",r.linkFinalizado.length>0),e.xp6(1),e.Q6J("ngIf",r.linkCompleto.length>0),e.xp6(34),e.Q6J("ngForOf",r.routers))},directives:[n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,n.On,n.YN,n.Kr,m.sg,n.EJ,m.O5,n.wV,n.qQ,n.Wl],styles:[""]}),o})();function R(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"th",31),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td")(15,"button",32),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw().editarPanel(l)}),e._uU(16,"Editar"),e.qZA()(),e.TgZ(17,"td")(18,"button",33),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw().eliminarPanel(l.id)}),e._uU(19,"Eliminar"),e.qZA()()()}if(2&o){const t=i.$implicit,r=i.index;e.xp6(2),e.Oqu(r+1),e.xp6(2),e.Oqu(e.xi3(5,6,t.fechaCreacion,"medium")),e.xp6(3),e.Oqu(t.nombre),e.xp6(2),e.Oqu(t.link_completo),e.xp6(2),e.Oqu(t.link_overquota),e.xp6(2),e.Oqu(t.link_finalizar)}}let O=(()=>{class o{constructor(t,r,a){this.panelService=t,this.fb=r,this.navbarService=a,this.editar=!1,this.paneles=[],this.navbarService.show(),this.panelForm=this.fb.group({nombre:["",n.kI.required],link_completo:["",n.kI.required],link_overquota:["",n.kI.required],link_finalizar:["",n.kI.required],id:[""]})}ngOnInit(){this.obtenerPaneles()}obtenerPaneles(){this.panelService.obtenerPaneles().subscribe(t=>{this.paneles=t.sort((r,a)=>r.fechaCreacion>a.fechaCreacion?-1:r.fechaCreacion<a.fechaCreacion?1:0)})}crearPanel(){var t;1==this.editar?this.panelService.editarPanel(this.panelForm.value,null===(t=this.panelForm.get("id"))||void 0===t?void 0:t.value).subscribe({next:r=>{u().fire("Listo!","Panel editado correctamente","success"),this.obtenerPaneles()},error:r=>{u().fire("Error!",r.error.message,"error")}}):this.panelService.crearPanel(this.panelForm.value).subscribe({next:r=>{u().fire("Listo!","Panel agregado correctamente","success"),this.panelForm.reset(),this.obtenerPaneles()},error:r=>{u().fire("Error!",r.error.message,"error")}})}buscarPanel(t){0==t.length&&this.obtenerPaneles(),this.panelService.buscarPanelPorTermino(t).subscribe({next:r=>{this.paneles=r},error:r=>{}})}eliminarPanel(t){u().fire({title:"\xbfDeseas eliminar este panel?",showDenyButton:!0,confirmButtonText:"Si",denyButtonText:"No"}).then(r=>{r.isConfirmed&&this.panelService.eliminarPanel(t).subscribe({next:a=>{u().fire("Listo!","","success"),this.obtenerPaneles()},error:a=>{}})})}limpiarPanel(){this.panelForm.reset()}editarPanel(t){this.editar=!0,this.panelForm.controls.nombre.setValue(t.nombre),this.panelForm.controls.link_completo.setValue(t.link_completo),this.panelForm.controls.link_overquota.setValue(t.link_overquota),this.panelForm.controls.link_finalizar.setValue(t.link_finalizar),this.panelForm.controls.id.setValue(t.id)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(T),e.Y36(n.qu),e.Y36(g.I))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-paneles"]],decls:74,vars:3,consts:[[1,"container-fluid","mt-4"],[1,"d-sm-flex","d-xs-none","col-md-12","mb-4"],[1,"col-md-6","col-sm-10","mb-2"],[1,"input-group"],["type","text","placeholder","Buscar por nombre",1,"form-control",3,"keyup"],["inputpanel",""],["type","button",1,"btn","btn-primary"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-success","ms-auto","col-6","col-sm-2","col-xs-2",3,"click"],["id","exampleModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade","modal-lg"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"row","justify-content-center"],[1,"d-sm-flex","d-xs-none","col-12","mb-4"],["for","password",1,"col-form-label","col-md-2","col-xs-4","fw-bold"],[1,"text-danger"],["type","text","formControlName","nombre","placeholder","",1,"form-control"],["type","text","formControlName","link_completo","placeholder","",1,"form-control"],["type","text","formControlName","link_overquota","placeholder","",1,"form-control"],["type","text","formControlName","link_finalizar","placeholder","",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(t,r){if(1&t){const a=e.EpF();e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Lista de Paneles"),e.qZA(),e._UZ(3,"hr"),e.TgZ(4,"div",1)(5,"div",2)(6,"div",3)(7,"input",4,5),e.NdJ("keyup",function(){e.CHM(a);const s=e.MAs(8);return r.buscarPanel(s.value)}),e.qZA(),e.TgZ(9,"button",6),e._uU(10,"Buscar Panel"),e.qZA()()(),e.TgZ(11,"button",7),e.NdJ("click",function(){return r.editar=!1}),e._uU(12,"Crear Panel"),e.qZA()(),e.TgZ(13,"div",8)(14,"div",9)(15,"div",10)(16,"div",11)(17,"h3",12),e._uU(18),e.qZA(),e.TgZ(19,"button",13),e.NdJ("click",function(){return r.limpiarPanel()}),e.qZA()(),e.TgZ(20,"div",14)(21,"form",15),e.NdJ("ngSubmit",function(){return r.crearPanel()}),e.TgZ(22,"div",16)(23,"div",17)(24,"label",18),e._uU(25,"Nombre Panel "),e.TgZ(26,"span",19),e._uU(27,"*"),e.qZA()(),e._UZ(28,"input",20),e.qZA(),e.TgZ(29,"div",17)(30,"label",18),e._uU(31,"Completo "),e.TgZ(32,"span",19),e._uU(33,"*"),e.qZA()(),e._UZ(34,"input",21),e.qZA(),e.TgZ(35,"div",17)(36,"label",18),e._uU(37,"Overquota "),e.TgZ(38,"span",19),e._uU(39,"*"),e.qZA()(),e._UZ(40,"input",22),e.qZA(),e.TgZ(41,"div",17)(42,"label",18),e._uU(43,"Finalizar "),e.TgZ(44,"span",19),e._uU(45,"*"),e.qZA()(),e._UZ(46,"input",23),e.qZA()(),e.TgZ(47,"div",24)(48,"button",25),e.NdJ("click",function(){return r.limpiarPanel()}),e._uU(49,"Cancelar"),e.qZA(),e.TgZ(50,"button",26),e._uU(51,"Guardar"),e.qZA()()()()()()(),e.TgZ(52,"div",27)(53,"table",28)(54,"thead")(55,"tr")(56,"th",29),e._uU(57,"#"),e.qZA(),e.TgZ(58,"th",29),e._uU(59,"Fecha"),e.qZA(),e.TgZ(60,"th",29),e._uU(61,"Nombre"),e.qZA(),e.TgZ(62,"th",29),e._uU(63,"Completo"),e.qZA(),e.TgZ(64,"th",29),e._uU(65,"Overquota"),e.qZA(),e.TgZ(66,"th",29),e._uU(67,"Finalizar"),e.qZA(),e.TgZ(68,"th",29),e._uU(69,"Editar"),e.qZA(),e.TgZ(70,"th",29),e._uU(71,"Eliminar"),e.qZA()()(),e.TgZ(72,"tbody"),e.YNc(73,R,20,9,"tr",30),e.qZA()()()()}2&t&&(e.xp6(18),e.Oqu(1==r.editar?"Editar panel":"A\xf1adir Panel"),e.xp6(3),e.Q6J("formGroup",r.panelForm),e.xp6(52),e.Q6J("ngForOf",r.paneles))},directives:[n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,m.sg],pipes:[m.uU],styles:[""]}),o})();function E(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"th",30),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"button",31),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw().editarManager(l)}),e._uU(9,"Editar"),e.qZA()(),e.TgZ(10,"td")(11,"button",32),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw().eliminarManager(l.idUsuario)}),e._uU(12,"Eliminar"),e.qZA()()()}if(2&o){const t=i.$implicit,r=i.index;e.xp6(2),e.Oqu(r+1),e.xp6(2),e.Oqu(t.nombre),e.xp6(2),e.Oqu(t.correo)}}let w=(()=>{class o{constructor(t,r,a){this.managerService=t,this.fb=r,this.navbarService=a,this.editar=!1,this.managers=[],this.navbarService.show(),this.managerForm=this.fb.group({nombre:["",n.kI.required],correo:["",n.kI.required],contrase\u00f1a:["",n.kI.required],id:[""]}),this.obtenerManagers()}obtenerManagers(){this.managerService.obtenerManagers().subscribe(t=>{this.managers=t.sort((r,a)=>r.fechaCreacion>a.fechaCreacion?-1:r.fechaCreacion<a.fechaCreacion?1:0)})}crearManager(){var t;1==this.editar?(console.log(this.managerForm.value),this.managerService.editarManager(this.managerForm.value,null===(t=this.managerForm.get("id"))||void 0===t?void 0:t.value).subscribe({next:r=>{u().fire("Listo!","Usuario editado correctamente","success"),this.obtenerManagers()},error:r=>{u().fire("Error!",r.error.message,"error")}})):this.managerService.crearManager(this.managerForm.value).subscribe({next:r=>{u().fire("Listo!","Usuario agregado correctamente","success"),this.managerForm.reset(),this.obtenerManagers()},error:r=>{u().fire("Error!",r.error.message,"error")}})}editarManager(t){this.editar=!0,this.managerForm.controls.nombre.setValue(t.nombre),this.managerForm.controls.correo.setValue(t.correo),this.managerForm.controls.id.setValue(t.idUsuario)}eliminarManager(t){u().fire({title:"\xbfDeseas eliminar este Manager?",showDenyButton:!0,confirmButtonText:"Si",denyButtonText:"No"}).then(r=>{r.isConfirmed&&this.managerService.eliminarManager(t).subscribe({next:a=>{u().fire("Listo!","","success"),this.obtenerManagers()},error:a=>{}})})}limpiarPanel(){this.managerForm.reset()}buscarManager(t){0==t.length&&this.obtenerManagers(),this.managerService.buscarManagerPorTermino(t).subscribe({next:r=>{console.log(r),this.managers=r},error:r=>{}})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(q),e.Y36(n.qu),e.Y36(g.I))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-managers"]],decls:62,vars:3,consts:[[1,"container","mt-4"],[1,"d-sm-flex","d-xs-none","col-md-12","mb-4"],[1,"col-md-6","col-sm-10","mb-2"],[1,"input-group"],["type","text","placeholder","Buscar por nombre",1,"form-control",3,"keyup"],["inputManager",""],["type","button",1,"btn","btn-primary"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-success","ms-auto","col-6","col-sm-2","col-xs-2",3,"click"],["id","exampleModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade","modal-lg"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"row","justify-content-center"],[1,"d-sm-flex","d-xs-none","col-12","mb-4"],["for","password",1,"col-form-label","col-md-2","col-xs-4","fw-bold"],[1,"text-danger"],["formControlName","nombre","type","text","placeholder","",1,"form-control"],["formControlName","correo","type","text","placeholder","",1,"form-control"],["formControlName","contrase\xf1a","type","password","placeholder","",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(t,r){if(1&t){const a=e.EpF();e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Lista de Managers"),e.qZA(),e._UZ(3,"hr"),e.TgZ(4,"div",1)(5,"div",2)(6,"div",3)(7,"input",4,5),e.NdJ("keyup",function(){e.CHM(a);const s=e.MAs(8);return r.buscarManager(s.value)}),e.qZA(),e.TgZ(9,"button",6),e._uU(10,"Buscar Manager"),e.qZA()()(),e.TgZ(11,"button",7),e.NdJ("click",function(){return r.editar=!1}),e._uU(12,"Crear Manager"),e.qZA()(),e.TgZ(13,"div",8)(14,"div",9)(15,"div",10)(16,"div",11)(17,"h3",12),e._uU(18),e.qZA(),e._UZ(19,"button",13),e.qZA(),e.TgZ(20,"div",14)(21,"form",15),e.NdJ("ngSubmit",function(){return r.crearManager()}),e.TgZ(22,"div",16)(23,"div",17)(24,"label",18),e._uU(25,"Nombre "),e.TgZ(26,"span",19),e._uU(27,"*"),e.qZA()(),e._UZ(28,"input",20),e.qZA(),e.TgZ(29,"div",17)(30,"label",18),e._uU(31,"Email "),e.TgZ(32,"span",19),e._uU(33,"*"),e.qZA()(),e._UZ(34,"input",21),e.qZA(),e.TgZ(35,"div",17)(36,"label",18),e._uU(37,"Contrase\xf1a "),e.TgZ(38,"span",19),e._uU(39,"*"),e.qZA()(),e._UZ(40,"input",22),e.qZA()(),e.TgZ(41,"div",23)(42,"button",24),e.NdJ("click",function(){return r.limpiarPanel()}),e._uU(43,"Cancelar"),e.qZA(),e.TgZ(44,"button",25),e._uU(45,"Guardar"),e.qZA()()()()()()(),e.TgZ(46,"div",26)(47,"table",27)(48,"thead")(49,"tr")(50,"th",28),e._uU(51,"#"),e.qZA(),e.TgZ(52,"th",28),e._uU(53,"Nombre"),e.qZA(),e.TgZ(54,"th",28),e._uU(55,"Correo"),e.qZA(),e.TgZ(56,"th",28),e._uU(57,"Editar"),e.qZA(),e.TgZ(58,"th",28),e._uU(59,"Eliminar"),e.qZA()()(),e.TgZ(60,"tbody"),e.YNc(61,E,13,3,"tr",29),e.qZA()()()()}2&t&&(e.xp6(18),e.Oqu(1==r.editar?"Editar Manager":"A\xf1adir Manager"),e.xp6(3),e.Q6J("formGroup",r.managerForm),e.xp6(40),e.Q6J("ngForOf",r.managers))},directives:[n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,m.sg],styles:[""]}),o})(),_=(()=>{class o{constructor(t){this.router=t}canActivate(t,r){return null!=localStorage.getItem("auth-samplingfy")||(this.router.navigate(["/auth/login"]),!1)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(p.F0))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const I=[{path:"",children:[{path:"router",component:J,canActivate:[_]},{path:"paneles",component:O,canActivate:[_]},{path:"managers",component:w,canActivate:[_]},{path:"**",redirectTo:"paneles"}]}];let Y=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[p.Bz.forChild(I)],p.Bz]}),o})(),L=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[m.ez,Y,n.UX,n.u5]]}),o})()}}]);